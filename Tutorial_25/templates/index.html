{% extends 'base.html' %}

{% block content %}
    <h1>{% block title %} Add a New Course {% endblock %}</h1>
    <form method="POST" action="/">
        <!--
         csrf tokens protect against Cross-Site Request Forgery.
         CSRF involves a user being tricked into unknowingly submitting
         a request to a trusted website (for example changing their pw
         or transferring money) from a malicious website.
        -->
        {{ form.csrf_token }}
        <p>
            <!-- This is essentially form.field_name.label -->
            {{ form.title.label }}
            <!-- Passing the size argument to the field -->
            {{ form.title(size=20) }}
        </p>
        <!-- If a form field has errors, we loop through them
         in a for loop -->
        {% if form.title.errors %}
            <ul class="errors">
                {% for error in form.title.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <p>
            {{ form.description.label }}
        </p>
        <!-- Notice that the textarea's sizing arguments are
         outside the <p> tags, while the text input's were
         inside the <p> tags-->
        {{ form.description(rows=10, cols=50) }}

        {% if form.description.errors %}
            <ul class="errors">
                {% for error in form.description.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <p>
            {{ form.price.label }}
            {{ form.price() }}
        </p>

        {% if form.price.errors %}
            <ul class="errors">
                {% for error in form.price.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <p>
            {{ form.available() }} {{ form.available.label }}
        </p>

        {% if form.available.errors %}
            <ul class="errors">
                {% for error in form.available.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
        <p>
            {{ form.level.label }}
            {{ form.level() }}
        </p>
        {% if form.level.errors %}
            <ul class="errors">
                {% for error in form.level.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <p>
            <input type="submit" value="Add">
        </p>
    </form>
{% endblock %}